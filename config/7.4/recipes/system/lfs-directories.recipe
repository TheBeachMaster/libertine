set -o errexit +o hashall

version 0
{
	# LSB only requires 0 and 1
	# Debian usses 65534 for nobody
	# debian uses 65534 for nogroup
	# 5 is needed by us for tty and we also use utmp
	
	system_group root 0 
	user root "root" /root /bin/bash 0 root
	
	system_group bin 1
	user bin "bin" /dev/null /bin/false 1 bin
	
	system_group nogroup 99
	user nobody "Unpriveleged User" /dev/null /bin/false 99 nogroup
	
	# ??
	system_group sys 2
	
	# Used for /dev/mem
	system_group kmem 3
	system_group tape 4
	system_group tty 5
	system_group daemon 6
	
	system_group floppy 7
	system_group disk 8
	system_group lp 9
	system_group dialout 10
	system_group audio 11
	system_group video 12
	
	system_group utmp 13
	
	system_group usb 14
	system_group cdrom 15
	system_group mail 34
	
	
#	directory /var/opt 0755 root root '' D
#	directory /var/cache 0755 root root '' D
#	directory /var/lib 0755 root root '' ai
#	directory /var/lib/misc 0755 root root '' ai
#	directory /var/lib/locate 0755 root root '' D
#	directory /var/local 0755 root root '' D
	
	# Ensures that essential tools from the toolchain exist and are slowly replaced during the installation
	#ln -sv /"$LFS_TOOLS"/bin/{bash,cat,echo,pwd,stty} /bin
	#ln -sv /"$LFS_TOOLS"/bin/perl /usr/bin
	#ln -sv /"$LFS_TOOLS"/lib/libgcc_s.so{,.1} /usr/lib
	#ln -sv /"$LFS_TOOLS"/lib/libstdc++.so{,.6} /usr/lib
	#ln -sv bash /bin/sh
	#symlink /bin/bash /"$LFS_TOOLS"/bin/bash
	#symlink /bin/cat /"$LFS_TOOLS"/bin/cat
	#symlink /bin/echo /"$LFS_TOOLS"/bin/echo
	#symlink /bin/pwd /"$LFS_TOOLS"/bin/pwd
	#symlink /bin/stty /"$LFS_TOOLS"/bin/stty
	#symlink /usr/bin/perl /"$LFS_TOOLS"/bin/perl
	#symlink /usr/lib/libgcc_s.so /"$LFS_TOOLS"/lib/libgcc_s.so
	#symlink /usr/lib/libgcc_s.so.1 /"$LFS_TOOLS"/lib/libgcc_s.so.1
	#symlink /usr/lib/libstdc++.so /"$LFS_TOOLS"/lib/libstdc++.so
	#symlink /usr/lib/libstdc++.so.6 /"$LFS_TOOLS"/lib/libstdc++.so.6
	#See below: sed "s/"$LFS_TOOLS"/usr/" /"$LFS_TOOLS"/lib/libstdc++.la >/usr/lib/libstdc++.la
	#touch_file /usr/lib/libstdc++.la 644 root root jS ai
	#symlink /bin/sh bash
	
	# historic mtab
	#ln -sv /proc/self/mounts /etc/mtab
#	symlink /etc/mtab /proc/self/mounts
}

function install_system_lfs-directories()
{
	local -r sedExpression="s/$LFS_TOOLS/usr/"
	sed "$sedExpression" /"$LFS_TOOLS"/lib/libstdc++.la >>/usr/lib/libstdc++.la
}
