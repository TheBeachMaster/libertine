set -o errexit +o hashall

# Bit of an oddity, as this depends on gcc-build already existing and is part of the gcc package
addSourcePackageWithoutDownload "$LFS_SOURCE_PACKAGE_NAME" 4.8.1
function installPackage_toolchain1_libstdc++()
{
	createBuildFolderAndPushd "gcc"
		
		../gcc-"$LFS_SOURCE_PACKAGE_VERSION"/libstdc++-v3/configure \
		--host="$LFS_TGT"                                      \
		--prefix=/"$LFS_TOOLS"                                        \
		--disable-multilib                                     \
		--disable-shared                                       \
		--disable-nls                                          \
		--disable-libstdcxx-threads                            \
		--disable-libstdcxx-pch                                \
		--with-gxx-include-dir=/"$LFS_TOOLS"/"$LFS_TGT"/include/c++/"$LFS_SOURCE_PACKAGE_VERSION"
		
		make
		
		make install
		
		echo 'main(){}' >dummy.c
		
		"$LFS_TGT"-gcc dummy.c
		readelf -l a.out | grep ": /$LFS_TOOLS"
		# [Requesting program interpreter: /tools/lib/ld-linux.so.2]
		exit 5
		
		rm -f -v dummy.c a.out
		
		
	popdBuildFolder
}
