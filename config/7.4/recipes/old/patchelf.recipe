set -o errexit +o hashall

version 02c4ffa5550a3e35f62ae0bfed4c08812e66bf24
{
	depends musl
}

# Uses g++; there is no musl-g++
function installPackage_crosscompiler_patchelf()
{
	local -r muslGccBinPath="${LFS_DEPENDENCY_RELATIVE_PATH_TO_ROOT_FROM_INSTALL_FOLDER}${dependency_Path["$dependency"]}"/install/bin
	pushd "$muslGccBinPath" >/dev/null
		local -r newPath="$(pwd):$PATH"
	popd >/dev/null
	
	pushdDependencyFolder
		
	local -r ourFolderName="$(purebash_basename "$(pwd)")"
		
		# relies on autoreconf
		./bootstrap.sh
	
		PATH="$newPath" CC=musl-gcc ./configure \
		--prefix="$LFS_DEPENDENCY_PREFIX_PATH" \
		--disable-dependency-tracking
		
		PATH="$newPath" make
		
		PATH="$newPath" make DESTDIR="$LFS" install
		
	popdDepdendencyFolder
}
