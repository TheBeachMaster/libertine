set -o errexit +o hashall

version 20131030
{
	depends musl-cross
	
	#include checkpolicy 2.2
	include libselinux 2.2.1
	#include libsemanage 2.2
	include libsepol 2.2
	#include policycoreutils 2.2.2
	#include sepolgen 1.2.1
}

# https://bugzilla.redhat.com/show_bug.cgi?id=214465
function install_crosscompiler_selinux()
{
	pushd libsepol >/dev/null
		
		LFS_CFLAGS_PRE="-v" LFS_CXXFLAGS_PRE="-v" makePackageInsideDependencyFolder external-crosscompiler-gcc external-crosscompiler-g++ DESTDIR="$LFS_DEPENDENCY_INSTALL_PATH"
	
	popd  >/dev/null
	
	pushd libselinux >/dev/null

		# PROBLEM: Does not create a static archive combined with libsepol
		export MAKEFLAGS="-j1"
		LFS_CFLAGS_PRE="-v" LFS_CXXFLAGS_PRE="-v" makePackageInsideDependencyFolder external-crosscompiler-gcc external-crosscompiler-g++ DESTDIR="$LFS_DEPENDENCY_PREFIX_PATH"
	
	popd  >/dev/null
}
